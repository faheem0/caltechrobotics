8086/87/88/186 MACRO ASSEMBLER    MAIN                                                     15:46:17  05/04/:8  PAGE    1


DOS 5.0 (038-N) 8086/87/88/186 MACRO ASSEMBLER V3.1 ASSEMBLY OF MODULE MAIN
OBJECT MODULE PLACED IN MAIN.OBJ
ASSEMBLER INVOKED BY:  C:\ASMSTU~1\ASM86.EXE MAIN.ASM DB M1 EP


LOC  OBJ                  LINE     SOURCE

                             1             NAME    main
                             2     
                             3     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4     ;                                                                            ;
                             5     ;                                   Main                                     ;
                             6     ;                            Test                           ;
                             7     ;                                  EE/CS  52                                ;
                             8     ;                                                                            ;
                             9     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10     
                            11     ; Description:      This program 
                            12     ;
                            13     ; Input:            Keypad
                            14     ; Output:           Display
                            15     ;
                            16     ; User Interface:   No real user interface.  
                            17     ; Error Handling:   None.
                            18     ;
                            19     ; Algorithms:       None.
                            20     ; Data Structures:  None.
                            21     ;
                            22     ; Known Bugs:       None.
                            23     ; Limitations:      
                            24     ;
                            25     ; Revision History:
                            26     ;    5/3/08 Samuel Yang
                            27     
                            28     
                            29     CGROUP  GROUP   CODE
                            30     DGROUP  GROUP   DATA , STACK
                            31     
                            32     
----                        33     CODE    SEGMENT PUBLIC 'CODE'
                            34     
                            35     
                            36             ASSUME  CS:CGROUP, DS:DGROUP, SS:DGROUP
                            37     
                            38     
                            39     EXTRN getkey:Near                               
                            40     EXTRN key_available:Near                                
                            41     
                            42     EXTRN display_time:near                  
                            43     EXTRN display_title:near
                            44     
                            45     EXTRN display_artist:near
                            46     EXTRN display_status:near
                            47     
                            48     EXTRN disp:near
                            49     
0000                        50     MAIN2 PROC NEAR
8086/87/88/186 MACRO ASSEMBLER    MAIN                                                     15:46:17  05/04/:8  PAGE    2


LOC  OBJ                  LINE     SOURCE

                            51                     PUBLIC MAIN2
0000 B8----         R       52             MOV     AX, DGROUP;STACK               ;initialize the stack pointer
0003 8ED0                   53             MOV     SS, AX
0005 BCE00190       R       54             MOV     SP, OFFSET(DGROUP:TopOfStack);TopOfStack)
                            55     
0009 B8----         R       56             MOV     AX, DGROUP;DATA                ;initialize the data segment
000C 8ED8                   57             MOV     DS, AX
                            58     
000E                        59     testkd:         
000E E80000         E       60                     CALL disp
                            61                     
0011 EBFB                   62                     JMP testkd
0013 C3                     63                     RET
                            64     MAIN2 ENDP 
                            65     
----                        66     CODE    ENDS
                            67     
                            68     
                            69     ;the data segment
                            70     
----                        71     DATA    SEGMENT PUBLIC  'DATA'
                            72     
                            73         
----                        74     DATA    ENDS
                            75     
                            76     ;the stack
----                        77     STACK   SEGMENT STACK  'STACK'
                            78     
0000 (80                    79                     DB      80 DUP ('Stack ')       ;240 words
     537461636B20
     )
                            80     
01E0                        81     TopOfStack      LABEL   WORD
                            82     
----                        83     STACK   ENDS
                            84     
                            85     END

ASSEMBLY COMPLETE, NO ERRORS FOUND
